"use strict";(self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[]).push([[106],{5106:(e,t,a)=>{a.r(t),a.d(t,{default:()=>H});var n=a(3673),i=a(2323),l=a(8880);const r={class:"col q-pt-lg q-px-md"},s={key:0,class:"col text-white text-center"},o={class:"text-h4 text-weight-light"},c={class:"text-h6 text-weight-light"},h={class:"text-h1 text-weight-thin q-my-lg relative-position"},d=(0,n._)("span",{class:"text-h1 relative-position degree"},[(0,n.Uk)("Â°"),(0,n._)("span",{class:"text-h2 relative-position degree celsius"},"C")],-1),p={class:"col text-center"},g=["src"],u={key:1,class:"col column text-center text-white"},w=(0,n._)("div",{class:"col text-h2 text-weight-thin"},[(0,n.Uk)(" Geo Location"),(0,n._)("br"),(0,n.Uk)("Weather ")],-1),m=(0,n._)("div",null,"Locate me",-1),v=(0,n._)("div",{class:"col skyline"},null,-1);function x(e,t,a,x,b,k){const _=(0,n.up)("q-icon"),f=(0,n.up)("q-input"),C=(0,n.up)("q-btn"),y=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(y,{class:(0,i.C_)(["flex column",e.bgClass])},{default:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n.Wm)(f,{onKeyup:t[2]||(t[2]=(0,l.D2)((t=>e.getWeatherBySearch(e.search)),["enter"])),dark:"",modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=t=>e.search=t),placeholder:"Search...",borderless:"",maxlength:"20",dense:""},{before:(0,n.w5)((()=>[(0,n.Wm)(_,{name:"my_location",onClick:e.handleClick},null,8,["onClick"])])),append:(0,n.w5)((()=>[""!==e.search?((0,n.wg)(),(0,n.j4)(_,{key:0,name:"close",onClick:t[0]||(t[0]=t=>e.search=""),class:"cursor-pointer"})):(0,n.kq)("",!0),(0,n.Wm)(_,{name:"search",onClick:t[1]||(t[1]=t=>e.getWeatherBySearch(e.search))})])),_:1},8,["modelValue"])]),e.weatherData?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",o,(0,i.zw)(e.weatherData.name),1),(0,n._)("div",c,(0,i.zw)(e.weatherData.weather[0].main),1),(0,n._)("div",h,[(0,n._)("span",null,(0,i.zw)(Math.round(e.weatherData.main.temp)),1),d]),(0,n._)("div",p,[(0,n._)("img",{src:`http://openweathermap.org/img/wn/${e.weatherData.weather[0].icon}@2x.png`},null,8,g)])])):((0,n.wg)(),(0,n.iD)("div",u,[w,(0,n.Wm)(C,{class:"col",flat:"",onClick:e.handleClick},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{left:"",size:"3em",name:"my_location"}),m])),_:1},8,["onClick"])])),v])),_:1},8,["class"])}var b=a(1959),k=a(4688),_=a(1768),f=a(9087);const C=(0,n.aZ)({name:"PageIndex",components:{},setup(){const e=(0,b.iH)(0),t=(0,b.iH)(0),a=(0,b.iH)(""),n=(0,b.iH)(""),i=(0,b.iH)(),l=()=>{f.gbz.show({spinner:f.UxA}),k.ZP.is.electron?_.api.get("https://freegeoip.app/json/").then((e=>{var t=e.data.latitude,a=e.data.longitude;_.api.get(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${a}&appid=5bed5adf923966a50bcf176517289d55&units=metric`).then((e=>{i.value=e.data,f.gbz.hide()}))})):navigator.geolocation.getCurrentPosition((a=>{e.value=a.coords.latitude,t.value=a.coords.longitude,_.api.get(`https://api.openweathermap.org/data/2.5/weather?lat=${e.value}&lon=${t.value}&appid=5bed5adf923966a50bcf176517289d55&units=metric`).then((e=>{i.value=e.data,f.gbz.hide()}))}))},r=e=>{f.gbz.show({spinner:f.UxA}),_.api.get(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=5bed5adf923966a50bcf176517289d55&units=metric`).then((e=>{i.value=e.data,f.gbz.hide()})).catch((e=>{console.log(e.message),n.value=e.message,f.gbz.hide()}))};return{error:n,lat:e,lon:t,search:a,weatherData:i,handleClick:l,getWeatherBySearch:r}},watch:{error:function(e,t){e?this.$q.notify({message:e,color:"red-5",textColor:"white",icon:"warning",progress:!0}):t&&(this.error="")}},computed:{bgClass(){return this.weatherData?this.weatherData.weather[0].icon.endsWith("n")?"bg-night":"bg-day":""}}});var y=a(4260),D=a(4379),q=a(6112),z=a(4554),W=a(2452),Z=a(7518),$=a.n(Z);const U=(0,y.Z)(C,[["render",x]]),H=U;$()(C,"components",{QPage:D.Z,QInput:q.Z,QIcon:z.Z,QBtn:W.Z})}}]);